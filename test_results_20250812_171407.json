{
  "summary": {
    "total": 51,
    "passed": 48,
    "failed": 3,
    "success_rate": 94.11764705882352
  },
  "results": [
    {
      "test": "Required File: main.py",
      "status": "\u2705 PASS",
      "details": "File main.py: Exists",
      "timestamp": "2025-08-12T17:13:33.909534"
    },
    {
      "test": "Required File: config.py",
      "status": "\u2705 PASS",
      "details": "File config.py: Exists",
      "timestamp": "2025-08-12T17:13:33.926772"
    },
    {
      "test": "Required File: database.py",
      "status": "\u2705 PASS",
      "details": "File database.py: Exists",
      "timestamp": "2025-08-12T17:13:33.944237"
    },
    {
      "test": "Required File: subscription_manager.py",
      "status": "\u2705 PASS",
      "details": "File subscription_manager.py: Exists",
      "timestamp": "2025-08-12T17:13:33.962484"
    },
    {
      "test": "Required File: business_logic_manager.py",
      "status": "\u2705 PASS",
      "details": "File business_logic_manager.py: Exists",
      "timestamp": "2025-08-12T17:13:33.980353"
    },
    {
      "test": "Required Directory: query_results",
      "status": "\u2705 PASS",
      "details": "Directory query_results: Exists",
      "timestamp": "2025-08-12T17:13:33.998101"
    },
    {
      "test": "Required Directory: temp_exports",
      "status": "\u2705 PASS",
      "details": "Directory temp_exports: Exists",
      "timestamp": "2025-08-12T17:13:34.019739"
    },
    {
      "test": "Environment Variable: SLACK_BOT_TOKEN",
      "status": "\u2705 PASS",
      "details": "Environment variable SLACK_BOT_TOKEN: Set",
      "timestamp": "2025-08-12T17:13:34.044076"
    },
    {
      "test": "Environment Variable: SLACK_SIGNING_SECRET",
      "status": "\u2705 PASS",
      "details": "Environment variable SLACK_SIGNING_SECRET: Set",
      "timestamp": "2025-08-12T17:13:34.062595"
    },
    {
      "test": "Environment Variable: SLACK_APP_TOKEN",
      "status": "\u2705 PASS",
      "details": "Environment variable SLACK_APP_TOKEN: Set",
      "timestamp": "2025-08-12T17:13:34.080686"
    },
    {
      "test": "Environment Variable: GOOGLE_API_KEY",
      "status": "\u2705 PASS",
      "details": "Environment variable GOOGLE_API_KEY: Set",
      "timestamp": "2025-08-12T17:13:34.107256"
    },
    {
      "test": "Environment Variable: PRESTO_CONNECTION",
      "status": "\u2705 PASS",
      "details": "Environment variable PRESTO_CONNECTION: Set",
      "timestamp": "2025-08-12T17:13:34.127105"
    },
    {
      "test": "Environment Variable: FEEDBACK_CHANNEL_ID",
      "status": "\u2705 PASS",
      "details": "Environment variable FEEDBACK_CHANNEL_ID: Set",
      "timestamp": "2025-08-12T17:13:34.145406"
    },
    {
      "test": "Product Mappings Count",
      "status": "\u2705 PASS",
      "details": "Found 124 product mappings",
      "timestamp": "2025-08-12T17:13:34.164197"
    },
    {
      "test": "Product Mapping: ghi",
      "status": "\u2705 PASS",
      "details": "Expected ghi -> 1, Got: 1",
      "timestamp": "2025-08-12T17:13:34.196893"
    },
    {
      "test": "Product Mapping: fire",
      "status": "\u2705 PASS",
      "details": "Expected fire -> 5, Got: 5",
      "timestamp": "2025-08-12T17:13:34.219124"
    },
    {
      "test": "Product Mapping: marine",
      "status": "\u2705 PASS",
      "details": "Expected marine -> 13, Got: 13",
      "timestamp": "2025-08-12T17:13:34.251713"
    },
    {
      "test": "Product Mapping: wc",
      "status": "\u2705 PASS",
      "details": "Expected wc -> 19, Got: 19",
      "timestamp": "2025-08-12T17:13:34.278838"
    },
    {
      "test": "Product Detection: 'number of leads in ghi'",
      "status": "\u274c FAIL",
      "details": "Expected: [1], Got: [] | GHI should be detected as Group Health Insurance",
      "timestamp": "2025-08-12T17:13:46.533422"
    },
    {
      "test": "Product Detection: 'fire insurance bookings'",
      "status": "\u2705 PASS",
      "details": "Expected: [5], Got: [5] | Fire insurance should be detected",
      "timestamp": "2025-08-12T17:13:50.424738"
    },
    {
      "test": "Product Detection: 'marine leads'",
      "status": "\u2705 PASS",
      "details": "Expected: [13], Got: [13] | Marine should be detected",
      "timestamp": "2025-08-12T17:13:52.666982"
    },
    {
      "test": "Product Detection: 'wc bookings'",
      "status": "\u274c FAIL",
      "details": "Expected: [19], Got: [] | WC should be detected as Workmen Compensation",
      "timestamp": "2025-08-12T17:13:54.720874"
    },
    {
      "test": "Product Detection: 'fire and marine bookings'",
      "status": "\u2705 PASS",
      "details": "Expected: [5, 13], Got: [5, 13] | Multiple products should be detected",
      "timestamp": "2025-08-12T17:13:56.745969"
    },
    {
      "test": "Product Detection: 'ghi wc fire'",
      "status": "\u274c FAIL",
      "details": "Expected: [1, 5, 19], Got: [5] | Three products should be detected",
      "timestamp": "2025-08-12T17:13:59.070251"
    },
    {
      "test": "Product Detection: 'number of leads in dws'",
      "status": "\u2705 PASS",
      "details": "Expected: [], Got: [] | Non-existent product should return empty",
      "timestamp": "2025-08-12T17:14:01.174429"
    },
    {
      "test": "Product Detection: 'xyz bookings'",
      "status": "\u2705 PASS",
      "details": "Expected: [], Got: [] | Non-existent product should return empty",
      "timestamp": "2025-08-12T17:14:03.283923"
    },
    {
      "test": "Product Detection: 'rest insurance'",
      "status": "\u2705 PASS",
      "details": "Expected: [], Got: [] | Non-existent product should return empty",
      "timestamp": "2025-08-12T17:14:05.309535"
    },
    {
      "test": "Time Pattern: today",
      "status": "\u2705 PASS",
      "details": "Time pattern for 'today': DATE(leaddate) = CURRENT_DATE",
      "timestamp": "2025-08-12T17:14:05.351269"
    },
    {
      "test": "Time Pattern: yesterday",
      "status": "\u2705 PASS",
      "details": "Time pattern for 'yesterday': DATE(leaddate) = CURRENT_DATE - INTERVAL '1' DAY",
      "timestamp": "2025-08-12T17:14:05.384038"
    },
    {
      "test": "Time Pattern: this week",
      "status": "\u2705 PASS",
      "details": "Time pattern for 'this week': leaddate >= DATE_TRUNC('week', CURRENT_DATE)",
      "timestamp": "2025-08-12T17:14:05.433966"
    },
    {
      "test": "Time Pattern: last week",
      "status": "\u2705 PASS",
      "details": "Time pattern for 'last week': leaddate >= DATE_TRUNC('week', CURRENT_DATE) - INTERVAL '7' DAY AND leaddate < DATE_TRUNC('week', CURRENT_DATE)",
      "timestamp": "2025-08-12T17:14:05.486945"
    },
    {
      "test": "Time Pattern: this month",
      "status": "\u2705 PASS",
      "details": "Time pattern for 'this month': leaddate >= DATE_TRUNC('month', CURRENT_DATE)",
      "timestamp": "2025-08-12T17:14:05.609781"
    },
    {
      "test": "Time Pattern: last month",
      "status": "\u2705 PASS",
      "details": "Time pattern for 'last month': leaddate >= DATE_TRUNC('month', CURRENT_DATE) - INTERVAL '1' MONTH AND leaddate < DATE_TRUNC('month', CURRENT_DATE)",
      "timestamp": "2025-08-12T17:14:05.696914"
    },
    {
      "test": "SQL Pattern: leads",
      "status": "\u2705 PASS",
      "details": "SQL pattern for 'leads': COUNT(*) as leads",
      "timestamp": "2025-08-12T17:14:05.817347"
    },
    {
      "test": "SQL Pattern: bookings",
      "status": "\u2705 PASS",
      "details": "SQL pattern for 'bookings': COUNT(CASE WHEN booking_status='IssuedBusiness' THEN 1 END) as bookings",
      "timestamp": "2025-08-12T17:14:05.885810"
    },
    {
      "test": "SQL Pattern: revenue",
      "status": "\u2705 PASS",
      "details": "SQL pattern for 'revenue': SUM(revenue) as total_revenue",
      "timestamp": "2025-08-12T17:14:05.933442"
    },
    {
      "test": "SQL Pattern: premium",
      "status": "\u2705 PASS",
      "details": "SQL pattern for 'premium': SUM(premium) as total_premium",
      "timestamp": "2025-08-12T17:14:06.016732"
    },
    {
      "test": "SQL Pattern: brokerage",
      "status": "\u2705 PASS",
      "details": "SQL pattern for 'brokerage': SUM(brokerage) as total_brokerage",
      "timestamp": "2025-08-12T17:14:06.068490"
    },
    {
      "test": "SQL Pattern: conversion_rate",
      "status": "\u2705 PASS",
      "details": "SQL pattern for 'conversion_rate': (COUNT(CASE WHEN booking_status='IssuedBusiness' THEN 1 END) * 100.0 / COUNT(*)) as conversion_rate",
      "timestamp": "2025-08-12T17:14:06.111282"
    },
    {
      "test": "SQL Pattern: avg_premium",
      "status": "\u2705 PASS",
      "details": "SQL pattern for 'avg_premium': AVG(premium) as avg_premium",
      "timestamp": "2025-08-12T17:14:06.151881"
    },
    {
      "test": "SQL Pattern: sum_insured",
      "status": "\u2705 PASS",
      "details": "SQL pattern for 'sum_insured': SUM(suminsured) as total_sum_insured",
      "timestamp": "2025-08-12T17:14:06.205027"
    },
    {
      "test": "SQL Pattern: lives_covered",
      "status": "\u2705 PASS",
      "details": "SQL pattern for 'lives_covered': SUM(totalnooflives) as total_lives",
      "timestamp": "2025-08-12T17:14:06.266167"
    },
    {
      "test": "Add Subscription",
      "status": "\u2705 PASS",
      "details": "Added subscription with ID: 1754999046",
      "timestamp": "2025-08-12T17:14:06.345137"
    },
    {
      "test": "Get User Subscriptions",
      "status": "\u2705 PASS",
      "details": "Found 1 subscriptions for user",
      "timestamp": "2025-08-12T17:14:06.394741"
    },
    {
      "test": "Remove Subscription",
      "status": "\u2705 PASS",
      "details": "Removed subscription 1754999046: True",
      "timestamp": "2025-08-12T17:14:06.496095"
    },
    {
      "test": "Store Feedback",
      "status": "\u2705 PASS",
      "details": "Stored feedback with ID: 1754999046",
      "timestamp": "2025-08-12T17:14:06.573349"
    },
    {
      "test": "Update Feedback Status",
      "status": "\u2705 PASS",
      "details": "Updated feedback 1754999046 to approved: True",
      "timestamp": "2025-08-12T17:14:06.643887"
    },
    {
      "test": "Get Approved Logic",
      "status": "\u2705 PASS",
      "details": "Retrieved 1 approved logic entries",
      "timestamp": "2025-08-12T17:14:06.712770"
    },
    {
      "test": "Database Instance Creation",
      "status": "\u2705 PASS",
      "details": "Database instance created successfully",
      "timestamp": "2025-08-12T17:14:06.765508"
    },
    {
      "test": "Masking PII Data",
      "status": "\u2705 PASS",
      "details": "Original Names: ['John Doe', 'Jane Smith'], Masked Names: ['Barbara Hobbs', 'Taylor Jackson']",
      "timestamp": "2025-08-12T17:14:06.906399"
    },
    {
      "test": "Retaining Non-PII Data",
      "status": "\u2705 PASS",
      "details": "Premium column should not be masked",
      "timestamp": "2025-08-12T17:14:06.963288"
    }
  ]
}